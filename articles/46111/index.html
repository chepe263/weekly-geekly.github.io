<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zend_Form and ini files</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Zend Framework is sucked from many sides and has quite good documentation. But working with forms through Zend_Form has its pitfalls, due to the mass ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zend_Form and ini files</h1><div class="post__text post__text-html js-mediator-article">  Zend Framework is sucked from many sides and has quite good documentation.  But working with forms through Zend_Form has its pitfalls, due to the mass of possibilities, which even in the official documentation are not covered well enough. <br><br>  I want to talk about setting up forms through ini-files.  This will be useful for programmers and layout designers. <br><a name="habracut"></a><br>  I believe that you already know approximately what <a href="http://framework.zend.com/">Zend Framework is</a> and where its <a href="http://framework.zend.com/manual/en">documentation</a> is located.  You may even use Zend_Form in your projects. <br><br>  If not, here are the basic concepts: <ul><li>  <b>Item</b>  Sobsno, formalized html-form element.  The standard ones are called Zend_Form_Element_ * and are descendants of Zend_Form_Element.  Own elements are created by expanding the standard.  Read more <a href="http://framework.zend.com/manual/en/zend.form.elements.html">here</a> . </li><li>  <b>Decorators</b> .  Responsible for generating html.  For some reason, one of the most difficult to understand pieces, but at the same time a very powerful and flexible tool.  More <a href="http://framework.zend.com/manual/en/zend.form.forms.html">here</a> , <a href="http://framework.zend.com/manual/en/zend.form.elements.html">here</a> and <a href="http://framework.zend.com/manual/en/zend.form.decorators.html">here</a> . </li><li>  <b>Validators</b>  Engaged in checking data and generating error messages.  Read more <a href="http://framework.zend.com/manual/en/zend.validate.html">here</a> . </li><li>  <b>Filters</b> .  Filter and modify data obtained from the form.  For example, if the user enters "Vasya Pupkin", then filters are used to cast to the form "Vasya Pupkin".  Read more <a href="http://framework.zend.com/manual/en/zend.filter.html">here</a> . </li><li>  <b>Group of elements</b>  DisplayGroup is a tool for visually combining elements into groups. </li><li>  <b>Translators</b> .  Multi-language support.  Read more <a href="http://framework.zend.com/manual/en/zend.translate.html">here</a> . </li></ul><br>  To verify the forms, you will need two files, <code>form.php</code> and <code>form.ini</code> .  The first one is here, and I'll tell you about the second one. <br> <code><font color="#000000"><font color="#0000BB">&lt;?php <br> <br></font> <font color="#007700">require_once</font> <font color="#DD0000">'Zend/Loader.php'</font> <font color="#007700">; <br></font> <font color="#0000BB">Zend_Loader</font> <font color="#007700">::</font> <font color="#0000BB">registerAutoload</font> <font color="#007700">(); <br> <br></font> <font color="#0000BB">$view</font> <font color="#007700">= new</font> <font color="#0000BB">Zend_View</font> <font color="#007700">(); <br></font> <font color="#0000BB">$view</font> <font color="#007700">-&gt;</font> <font color="#0000BB">doctype</font> <font color="#007700">(</font> <font color="#0000BB">Zend_View_Helper_Doctype</font> <font color="#007700">::</font> <font color="#0000BB">XHTML1_STRICT</font> <font color="#007700">); <br> <br></font> <font color="#0000BB">$conf</font> <font color="#007700">= new</font> <font color="#0000BB">Zend_Config_Ini</font> <font color="#007700">(</font> <font color="#DD0000">'form.ini'</font> <font color="#007700">); <br> <br></font> <font color="#0000BB">$form</font> <font color="#007700">= new</font> <font color="#0000BB">Zend_Form</font> <font color="#007700">(</font> <font color="#0000BB">$conf</font> <font color="#007700">); <br></font> <font color="#0000BB">$form</font> <font color="#007700">-&gt;</font> <font color="#0000BB">setView</font> <font color="#007700">(</font> <font color="#0000BB">$view</font> <font color="#007700">); <br> <br> echo</font> <font color="#0000BB">$form</font> <font color="#007700">;</font></font></code> <br> <br><h1>  Ini-file structure </h1><br>  The file contains the attributes of the &lt;form&gt; tag, global values, elements, default values ‚Äã‚Äãfor elements, etc. 
      <br>
        <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"></script>')</script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push({});
        </script>
      <br>
    <h2>  Attributes </h2><br>  All unrecognized keys are interpreted as attributes of the &lt;form&gt; tag.  But they can be specified and explicitly through <code>attrs.*</code> . <br> <code><font color="gray">;;;; <br> ;;;; form.ini <br> ;;;;</font> <br> <br> action = /some/url <br> <br> <font color="gray">; post | get | put | delete</font> <br> method = post <br> <br> <font color="gray">; "application/x-www-form-urlencoded" | "multipart/form-data"</font> <br> enctype = "custom-enctype" <br> <br> <font color="gray">;   Description</font> <br> description = "form description" <br> <br> <font color="gray">;   Fieldset</font> <br> legend = "form legend" <br> <br> <font color="gray">; &lt;form name=""&gt;</font> <br> name = "attr name" <br> <br> <font color="gray">; int -   SubForm (     )</font> <br> order = 1 <br> <br> <font color="gray">; true | false -      - <br> ;   ini-    (. decorators.*)</font> <br> disableLoadDefaultDecorators = false <br> <br> <font color="gray">; true | false -  </font> <br> disableTranslator = false <br> <br> <font color="gray">; attribs.* -     &lt;form&gt;</font> <br> attribs.action = /yet/another/url <font color="gray">;   action    </font> <br> attribs.my_pretty_cool_attr = value <font color="gray">; &lt;form my_pretty_cool_attr="value"/&gt;</font> <br> <br> <font color="gray">; defaults.* -    -.</font> <br> defaults.myfield = "Default value for my field" <br> defaults.anotherfield = "Pretty nice value for another field"" <br></code> <br><h2>  Class paths </h2><br> <code><font color="gray">; prefixPath -         <br> ;  :</font> <br> prefixPath.prefix = Zend_Form_ <br> prefixPath.path = Zend/Form/ <br> <br> <font color="gray">;         Zend_Form_Decorator_MyDecorator <br> ;  Zend/Form/Decorator/MyDecorator.php <br> ;     Zend_Form_Element_MyElement  Zend/Form/Element/MyElement.php <br> ;  ,       , :</font> <br> prefixPath.zend.element.prefix = Zend_Form_Element_ <br> prefixPath.zend.element.path = Zend/Form/Element/ <br> prefixPath.zend.decorator.prefix = Zend_Form_Decorator_ <br> prefixPath.zend.decorator.path = Zend/Form/Decorator/ <br> prefixPath.custom.prefix = MyProject_Form_ <br> prefixPath.custom.path = MyProject/Form/ <br> <br> <font color="gray">; elementPrefixPath - ,       elements.* <br> ;   ,    <br> ;  ,     prefixPath.*</font> <br> elementPrefixPath.decorator.prefix = Zend_Form_Decorator_ <br> elementPrefixPath.decorator.path = Zend/Form/Decorator/ <br> elementPrefixPath.filter.prefix = Zend_Filter_ <br> elementPrefixPath.filter.path = Zend/Filter/ <br> elementPrefixPath.validate.prefix = Zend_Validate_ <br> elementPrefixPath.validate.path = Zend/Validate/ <br> <br> <font color="gray">; displayGroupPrefixPath -  prefixPath.*   </font> <br> <br> <font color="gray">; defaultDisplayGroupClass -     . <br> ; -  Zend_Form_DisplayGroup</font> <br> defaultDisplayGroupClass = Zend_Form_DisplayGroup <br></code> <br><h2>  Decorators </h2><br> <code><font color="gray">; decorators.* -   . <br> ;        -. <br> ; <b>:</b>     FormElements,      ! <br> ;    -:</font> <br> decorators.elements = FormElements <br> decorators.tag = HtmlTag <br> decorators.tag.options.tag = dl <br> decorators.tag.options.class = zend_form <br> decorators.form = Form <br> <br> <font color="gray">; displayGroupDecorators.* -     <br> ;       <br> ;       displayGroups.groupName.options.decorators.* <br> ;    displayGroupDecorators.*,      :</font> <br> displayGroupDecorators.el = FormElements <br> displayGroupDecorators.tg = HtmlTag <br> displayGroupDecorators.tg.options.tag = dl <br> displayGroupDecorators.fs = Fieldset <br> displayGroupDecorators.dt = DtDdWrapper <br> <br> <font color="gray">; elementDecorators.* -      <br> ;      elements.myfield.options.decorators.* <br> ;    elementDecorators.*,       :</font> <br> elementDecorators.vh = ViewHelper <br> elementDecorators.er = Errors <br> elementDecorators.ht = HtmlTag <br> elementDecorators.ht.options.tag = dd <br> elementDecorators.lb = Label <br> elementDecorators.lb.options.tag = dt <br></code> <br><h2>  Form elements </h2><br> <code><font color="gray">; elementsBelongTo -   -,      . <br> ;    SubForm's. <br> ;     ,     as is (, &lt;input name="myfield"/&gt;) <br> ;    :</font> <br> elementsBelongTo = wholeFormElements <br> <font color="gray">;        <br> ; (    : &lt;input name="wholeFormElements[myfield]"/&gt; <br> ; <b>:</b>         <br> ; elements.myfield.options.belongsTo   </font> <br> <br> <font color="gray">; elementFilters.* -  -   </font> <br> elementFilters.flt1.filter = StringTrim <br> elementFilters.flt1.options.chatList = " _-" <br> <font color="gray">;       ,       <br> ;  .filter -      Zend_Filter_</font> <br> <br> <font color="gray">; elements.* -   <br> ; elements.FIELDNAME.type -    Zend_Form_Element_ <br> ; elements.FIELDNAME.type = Text -   Zend_Form_Element_Text</font> <br> elements.myfield.type = Button <br> elements.myfield.options.label = "Click me ;-)" <br> <br> <font color="gray">; elements.foobar.name = FIELDNAME -      :</font> <br> elements.a.name = myfield <br> elements.a.type = Text <br> elements.a.options.required = true <br> ... <br> <br> <font color="gray">; elements.FIELDNAME.options.* -  : , , ,   ..</font> <br></code> <br><h2>  Groups of elements </h2><br> <code><font color="gray">; displayGroups.* -  . -   &lt;fieldset/&gt;</font> <br> displayGroups.foo.name = mygroup <br> displayGroups.foo.options.legend = "Display Group Visible Title" <br> displayGroups.foo.options.order = 1 <br> displayGroups.foo.options.description = "Cool fields" <font color="gray">;   Description</font> <br> displayGroups.foo.options.decorators.* <font color="gray">;  displayGroupDecorators.*</font> <br> displayGroups.foo.elements.a = myfield1 <font color="gray">; ,   elements.myfield1</font> <br> displayGroups.foo.elements.b = myfield2 <font color="gray">; </font> <br></code> <br>  And finally.  The storage of forms in ini-files is convenient and their format can be trained by designers and designers, but there is also a fly in the ointment - performance.  With this use of forms, we get a penalty on reading the file, parsing it and setting up the form. <br>  To avoid this, I cache the Zend_Form object that was created on the ini-file. <br><br>  PS: If the article will be useful not only to me, then in the following articles I will describe in detail the configuration of elements, filters, validators and decorators. </div><p>Source: https://habr.com/ru/post/46111/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461091/index.html">LED Camelion Lamps</a></li>
<li><a href="../461093/index.html">News from the world of OpenStreetMap No. 469 (07/09/2019 - 07/07/2019)</a></li>
<li><a href="../461099/index.html">Game AirAttack! - our first VR development experience</a></li>
<li><a href="../4611/index.html">US Consumer Associations to Fight Media Sharks</a></li>
<li><a href="../461101/index.html">Android Jetpack Compose First Impression</a></li>
<li><a href="../461113/index.html">Five years of using C ++ for projects for microcontrollers in production</a></li>
<li><a href="../461121/index.html">Small multitasking experiments in a microcontroller</a></li>
<li><a href="../461123/index.html">Welcome to the Medium Summer Meetup on August 3</a></li>
<li><a href="../461125/index.html">The task of creating sequential numeric codes for numbering messages in the source code in Visual Studio (ex. C #)</a></li>
<li><a href="../461127/index.html">VM performance analysis in VMware vSphere. Part 3: Storage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>